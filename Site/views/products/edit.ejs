<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head.ejs') %>
<body>
  <%- include('../partials/header.ejs') %>
  <main class="product-add">
    <div class="container">
      <div class="product-add-card">
        <div class="product-add-image">
          <img src="/img/<%= product.image ? product.image : 'default.png' %>" alt="Coffe package image">
        </div>
        <div class="product-add-form">
          <h1>Editar producto</h1>
          <form action="/products/<%= product && product.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
            <input type="hidden" name="oldImage" value="<%= product && product.image %>">
            <div class="field-group">
              <div class="field">
                <label for="name">Nombre</label>
                <input type="text" name="name" id="name"  value="<%= product && product.name %>">
              </div>
              <div class="field">
                <label for="price">Precio</label>
                <input type="number" name="price" id="price" value="<%= product && product.price %>" >
              </div>
            </div>
            <div class="field">
              <label>Tamaño del paquete</label>
              <div class="field-radio-group">
                <div class="control">
                  <select name="size" id="size">
                      <% sizes.forEach(size => { %>
                        <option value="<%= size.id %>" <%= product.size == size.id ? 'selected': null %>><%= size.size %></option> 
                      <% });  %> 
                  </select>
                </div>
              </div>
            </div>
            <div class="field">
              <label>Torrado</label>
              <div class="field-radio-group">
                <select name="type" id="type">
                    <% type.forEach(aType => { %>
                      <option value="<%= aType.id %>" <%= product.type == aType.id ? 'selected': null %>><%= aType.type %></option> 
                    <% });  %> 
                </select>
              </div>
            </div>
    
            <div class="field">
              <label>Tostado</label>
              <div class="field-radio-group">
                <select name="toasted" id="toasted">
                    <% toasted.forEach(toast => { %>
                      <option value="<%= toast.id %>" <%= product.toasted == toast.id ? 'selected': null %>><%= toast.toasted %></option> 
                    <% });  %> 
                </select>
              </div>
            </div>
            <div class="field">
              <label for="image">Imagén</label>
              <input type="file" name="image" id="image">
            </div>
            <div class="field">
              <label for="description">Descripción</label>
              <textarea name="description"><%= product && product.description %></textarea>
            </div>
            
            <div class="btn-group">
              <button type="submit" class="btn-primary">Guardar</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
  <%- include('../partials/footer')  %>  
</body>
</html>